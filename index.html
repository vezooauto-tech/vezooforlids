<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>VezooAuto | –ü–æ–¥–±–æ—Ä –∞–≤—Ç–æ –∏–∑ –ö–∏—Ç–∞—è/–ö–æ—Ä–µ–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
  :root{
    --bg:#0a0a0a;
    --card:#111111;
    --text:#ffffff;
    --accent:#e4002b;
    --wa:#25D366;
    --tg:#0088cc;
    --vb:#7360F2;
    --radius:12px;
    --max:640px;
    --transition:.25s ease;
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  }
  *{box-sizing:border-box;margin:0;padding:0;font:inherit}
  body{background:var(--bg);color:var(--text);line-height:1.5;padding:2rem 1rem;-webkit-font-smoothing:antialiased}
  .logo{display:flex;align-items:center;gap:.75rem;font-weight:700;font-size:1.5rem;margin-bottom:2.5rem}
  .logo img{height:44px;border-radius:var(--radius)}
  .quiz{max-width:var(--max);margin:auto;background:var(--card);padding:2rem 1.5rem;border-radius:var(--radius);box-shadow:0 8px 40px rgba(228,0,43,.25)}
  .step{display:none;animation:fadeIn .4s ease}.step.active{display:block}
  @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
  label{display:block;margin-bottom:.5rem;font-weight:600;font-size:.95rem}
  input,select,textarea{width:100%;padding:.85rem 1rem;border:1px solid #333;border-radius:var(--radius);font-size:1rem;background:#000;color:var(--text);transition:border-color var(--transition)}
  input:focus,textarea:focus{border-color:var(--accent);outline:none}
  textarea{resize:vertical;min-height:90px}
  .radio-group{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}
  .radio-group label{background:#1a1a1a;padding:.65rem 1rem;border-radius:var(--radius);cursor:pointer;flex:1 1 120px;text-align:center;font-size:.9rem;transition:background var(--transition),color var(--transition)}
  .radio-group input[type=radio]{display:none}
  .radio-group input:checked+label{background:var(--accent);color:#fff}
  .btn{background:var(--accent);color:#fff;border:none;padding:.9rem 1.5rem;border-radius:var(--radius);font-weight:700;font-size:1.05rem;cursor:pointer;width:100%;transition:filter var(--transition)}
  .btn:hover{filter:brightness(1.1)}
  @media(max-width:600px){.btn{position:sticky;bottom:1rem;z-index:10;box-shadow:0 4px 20px rgba(228,0,43,.4)}}
  .result{font-size:1.1rem;margin-bottom:1rem}.result b{font-size:1.35rem;color:var(--accent)}
  .checkbox{margin-top:1rem;display:flex;align-items:center;gap:.5rem}.checkbox input{width:auto}
  .social{display:flex;gap:.75rem;flex-wrap:wrap;margin-top:1.5rem}.social a{flex:1 1 130px;text-align:center;font-size:.85rem}
  ul{margin:1rem 0 1.5rem 1.25rem;opacity:.8}
  </style>
</head>
<body>
  <div class="quiz">
    <div class="logo">
      <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 42 42'%3E%3Crect width='42' height='42' rx='8' fill='%23e4002b'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23fff' font-size='22' font-weight='700'%3EV%3C/text%3E%3C/svg%3E" alt="VezooAuto">
      <span>VezooAuto</span>
    </div>

    <!-- –®–∞–≥ 1 –ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å -->
    <div class="step active" id="s1">
      <label>–ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)</label>
      <input type="text" id="car" placeholder="Toyota Camry, Kia Sportage">
      <button class="btn" onclick="next(1)">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 2 –¢–∏–ø –∫—É–∑–æ–≤–∞ -->
    <div class="step" id="s2">
      <label>–¢–∏–ø –∫—É–∑–æ–≤–∞</label>
      <div class="radio-group">
        <input type="radio" name="body" value="sedan" id="sedan"><label for="sedan">–°–µ–¥–∞–Ω</label>
        <input type="radio" name="body" value="suv" id="suv"><label for="suv">–ö—Ä–æ—Å—Å–æ–≤–µ—Ä/SUV</label>
        <input type="radio" name="body" value="hatch" id="hatch"><label for="hatch">–•—ç—Ç—á–±–µ–∫</label>
        <input type="radio" name="body" value="wagon" id="wagon"><label for="wagon">–£–Ω–∏–≤–µ—Ä—Å–∞–ª</label>
        <input type="radio" name="body" value="mpv" id="mpv"><label for="mpv">–ú–∏–Ω–∏–≤—ç–Ω</label>
        <input type="radio" name="body" value="any" id="any" checked><label for="any">–ù–µ–≤–∞–∂–Ω–æ</label>
      </div>
      <button class="btn" onclick="next(2)">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 3 –ì–æ–¥ –æ—Ç -->
    <div class="step" id="s3">
      <label>–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ (–æ—Ç)</label>
      <input type="number" id="year" min="1990" max="2025" placeholder="2015">
      <button class="btn" onclick="next(3)">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 4 –ë—é–¥–∂–µ—Ç-–¥–∏–∞–ø–∞–∑–æ–Ω -->
    <div class="step" id="s4">
      <label>–ë—é–¥–∂–µ—Ç, $</label>
      <div class="radio-group">
        <input type="radio" name="budget" value="10-15" id="b1"><label for="b1">10‚Äì15k</label>
        <input type="radio" name="budget" value="15-20" id="b2"><label for="b2">15‚Äì20k</label>
        <input type="radio" name="budget" value="20-25" id="b3"><label for="b3">20‚Äì25k</label>
        <input type="radio" name="budget" value="25-30" id="b4"><label for="b4">25‚Äì30k</label>
        <input type="radio" name="budget" value="30+" id="b5" checked><label for="b5">–°–≤—ã—à–µ 30k</label>
      </div>
      <button class="btn" onclick="next(5)">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 5 –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π -->
    <div class="step" id="s5">
      <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü.)</label>
      <textarea id="comment" maxlength="280" placeholder="–¶–≤–µ—Ç, –ø—Ä–æ–±–µ–≥, –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã‚Ä¶"></textarea>
      <button class="btn" onclick="next(6)">–î–∞–ª–µ–µ</button>
    </div>

    <!-- –®–∞–≥ 6 –ö–æ–Ω—Ç–∞–∫—Ç -->
    <div class="step" id="s6">
      <p class="result">–í –¥–∏–∞–ø–∞–∑–æ–Ω–µ <b id="budgetText"></b> –Ω–∞–π–¥—ë—Ç—Å—è 12‚Äì18 –∞–≤—Ç–æ. –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.</p>
      <label>–ò–º—è</label>
      <input type="text" id="name" placeholder="–ò–≤–∞–Ω">
      <label>–ö–æ–Ω—Ç–∞–∫—Ç (Telegram / WhatsApp)</label>
      <input type="text" id="contact" placeholder="@ivan –∏–ª–∏ +375...">
      <div class="checkbox">
        <input type="checkbox" id="agree" checked>
        <label for="agree">–°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö</label>
      </div>
      <button class="btn" onclick="sendLead()">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–±–æ—Ä–∫—É</button>
      <div id="msg"></div>

      <!-- –ö–Ω–æ–ø–∫–∏ —Å–≤—è–∑–∏ -->
      <div class="social">
        <a class="btn" style="background:#25D366" href="https://wa.me/375298299727" target="_blank">WhatsApp</a>
        <a class="btn" style="background:#0088cc" href="https://t.me/Sergeq1995" target="_blank">Telegram –õ–°</a>
        <a class="btn" style="background:#7360F2" href="viber://chat?number=%2B375298299727" target="_blank">Viber</a>
        <a class="btn" style="background:var(--accent)" href="https://t.me/vezooauto" target="_blank">–ö–∞–Ω–∞–ª: 200+ –∞–≤—Ç–æ</a>
      </div>

      <ul>
        <li>–î–æ—Å—Ç–∞–≤–∫–∞ –≤ –ú–∏–Ω—Å–∫: –ö–∏—Ç–∞–π $4 460 / –ö–æ—Ä–µ—è $4 300</li>
        <li>–ë–µ–∑ —Å–∫—Ä—ã—Ç—ã—Ö –∫–æ–º–∏—Å—Å–∏–π</li>
        <li>30‚Äì60 –¥–Ω–µ–π ¬´–ø–æ–¥ –∫–ª—é—á¬ª</li>
      </ul>
    </div>
  </div>

<script>
/* ========= –ù–ê–°–¢–†–û–ô–ö–ò ========= */
const TOKEN   = '7123...';   // ‚Üê —Ç–æ–∫–µ–Ω TG-–±–æ—Ç–∞
const CHAT_ID = '-100...';   // ‚Üê –≤–∞—à chat_id
let EUR_USD = 1.08;          // fallback, –ø–æ—Ç–æ–º –∂–∏–≤–æ–π

/* ===== –∂–∏–≤–æ–π –∫—É—Ä—Å ‚Ç¨ ‚Üí $ (–ù–ë–†–ë) ===== */
fetch('https://www.nbrb.by/api/exrates/rates/978?parammode=2')
  .then(r=>r.json()).then(d=>EUR_USD=d.Cur_OfficialRate).catch(()=>console.log('–∫—É—Ä—Å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º 1.08'));

/* ===== Google –¢–∞–±–ª–∏—Ü–∞ ===== */
const GOOGLE_URL = 'https://script.google.com/macros/s/AKfycb.../exec'; // ‚Üê –≤—Å—Ç–∞–≤—å —Å–≤–æ–π URL Apps Script

/* ===== UI ===== */
const $=s=>document.querySelector(s);
let data={};

function next(step){
  if(step===1) data.car=$('#car').value.trim();
  if(step===2) data.body=$('input[name=body]:checked').value;
  if(step===3) data.year=+$('#year').value||2015;
  if(step===4){ data.budget=$('input[name=budget]:checked').value; setBudgetText(); }
  if(step===5) data.comment=$('#comment').value.slice(0,280);
  $(`#s${step}`).classList.remove('active');
  $(`#s${step+1}`).classList.add('active');
}
function setBudgetText(){
  const map={['10-15']:'$10‚Äì15k',['15-20']:'$15‚Äì20k',['20-25']:'$20‚Äì25k',['25-30']:'$25‚Äì30k',['30+']:'—Å–≤—ã—à–µ $30k'};
  $('#budgetText').textContent=map[data.budget]||'';
}

/* ===== –û–¢–ü–†–ê–í–ö–ê ===== */
async function sendLead(){
  const name=$('#name').value.trim();
  const contact=$('#contact').value.trim();
  if(!name||!contact) return flash('–£–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ –∫–æ–Ω—Ç–∞–∫—Ç','error');
  if(!$('#agree').checked) return flash('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–≥–ª–∞—Å–∏–µ','error');

  const text=`üöó –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ VezooAuto
–ò–º—è: ${name}
–ö–æ–Ω—Ç–∞–∫—Ç: ${contact}
–ê–≤—Ç–æ: ${data.car}
–ö—É–∑–æ–≤: ${data.body}
–ì–æ–¥ –æ—Ç: ${data.year}
–ë—é–¥–∂–µ—Ç: ${data.budget}
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${data.comment||'‚Äî'}`;

  // Telegram
  await fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`,{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({chat_id:CHAT_ID,text})
  }).then(r=>r.json()).then(r=>{
    if(r.ok) flash('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.','ok');
    else flash('–û—à–∏–±–∫–∞ Telegram','error');
  }).catch(e=>flash('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏','error'));

  // Google –¢–∞–±–ª–∏—Ü–∞
  await fetch(GOOGLE_URL,{
    method:'POST',
    body:JSON.stringify({
      name:name,
      contact:contact,
      car:data.car,
      body:data.body,
      year:data.year,
      budget:data.budget,
      comment:data.comment||'',
      timestamp:new Date().toLocaleString('ru')
    }),
    headers:{'Content-Type':'application/json'}
  });
}
function flash(msg,type){
  const m=$('#msg'); m.textContent=msg; m.className=type;
}
</script>
</body>
</html>
