<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>VezooAuto | –ë—ã—Å—Ç—Ä–∞—è –∑–∞—è–≤–∫–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{
  --bg:#0a0a0a;
  --card:#111111;
  --text:#ffffff;
  --accent:#e4002b;
  --radius:12px;
  --max:640px;
  --transition:.25s ease;
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
}
*{box-sizing:border-box;margin:0;padding:0;font:inherit}
body{background:var(--bg);color:var(--text);line-height:1.5;padding:2rem 1rem;-webkit-font-smoothing:antialiased}
.quiz{max-width:var(--max);margin:auto;background:var(--card);padding:2rem 1.5rem;border-radius:var(--radius);box-shadow:0 8px 40px rgba(228,0,43,.25)}
.logo{display:flex;align-items:center;gap:.75rem;font-weight:700;font-size:1.5rem;margin-bottom:1.5rem}
.logo img{height:44px;border-radius:var(--radius)}
.step{display:none;animation:fadeIn .4s ease}
.step.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
label{display:block;margin-bottom:.5rem;font-weight:600;font-size:.95rem}
input,select,textarea{width:100%;padding:.85rem 1rem;border:1px solid #333;border-radius:var(--radius);font-size:1rem;background:#000;color:var(--text);transition:border-color var(--transition)}
input:focus,textarea:focus{border-color:var(--accent);outline:none}
textarea{resize:vertical;min-height:90px}
.radio-group{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}
.radio-group label{background:#1a1a1a;padding:.65rem 1rem;border-radius:var(--radius);cursor:pointer;flex:1 1 120px;text-align:center;font-size:.9rem;transition:background var(--transition),color var(--transition)}
.radio-group input[type=radio]{display:none}
.radio-group input:checked+label{background:var(--accent);color:#fff}
.checkbox-group{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}
.checkbox-group label{background:#1a1a1a;padding:.65rem 1rem;border-radius:var(--radius);cursor:pointer;flex:1 1 120px;text-align:center;font-size:.9rem;transition:background var(--transition),color var(--transition)}
.checkbox-group input[type=checkbox]{margin-right:.5rem}
.btn{background:var(--accent);color:#fff;border:none;padding:.9rem 1.5rem;border-radius:var(--radius);font-weight:700;font-size:1.05rem;cursor:pointer;width:100%;transition:filter var(--transition)}
.btn:hover{filter:brightness(1.1)}
@media(max-width:600px){.btn{position:sticky;bottom:1rem;z-index:10;box-shadow:0 4px 20px rgba(228,0,43,.4)}}
#progress{height:4px;background:var(--accent);width:0%;border-radius:var(--radius);transition:width var(--transition);margin-bottom:1.5rem}
#msg{margin-top:1rem;font-weight:600;text-align:center;opacity:0;transition:opacity .3s}
#msg.ok{color:#25D366;opacity:1}
#msg.error{color:#e4002b;opacity:1}
</style>
</head>
<body>
<div class="quiz">
  <div class="logo">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 42 42'%3E%3Crect width='42' height='42' rx='8' fill='%23e4002b'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23fff' font-size='22' font-weight='700'%3EV%3C/text%3E%3C/svg%3E" alt="VezooAuto">
    <span>VezooAuto</span>
  </div>
  
  <div id="progress"></div>
  
  <!-- –®–∞–≥ 1: –ú–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å -->
  <div class="step active" id="s1">
    <label>–ú–∞—Ä–∫–∞ –∏ –º–æ–¥–µ–ª—å –∞–≤—Ç–æ</label>
    <input type="text" id="car" placeholder="Toyota Camry, Kia Sportage">
    <button class="btn" onclick="next(1)">–î–∞–ª–µ–µ</button>
  </div>
  
  <!-- –®–∞–≥ 2: –ë—é–¥–∂–µ—Ç -->
  <div class="step" id="s2">
    <label>–ë—é–¥–∂–µ—Ç, $</label>
    <div class="radio-group">
      <input type="radio" name="budget" value="10-15" id="b1"><label for="b1">10‚Äì15k</label>
      <input type="radio" name="budget" value="15-20" id="b2"><label for="b2">15‚Äì20k</label>
      <input type="radio" name="budget" value="20-25" id="b3"><label for="b3">20‚Äì25k</label>
      <input type="radio" name="budget" value="25-30" id="b4"><label for="b4">25‚Äì30k</label>
      <input type="radio" name="budget" value="30+" id="b5" checked><label for="b5">–°–≤—ã—à–µ 30k</label>
    </div>
    <button class="btn" onclick="next(2)">–î–∞–ª–µ–µ</button>
  </div>
  
  <!-- –®–∞–≥ 3: –ö–æ–Ω—Ç–∞–∫—Ç -->
  <div class="step" id="s3">
    <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
    <input type="tel" id="phone" placeholder="+375291234567">
    <label>–ï—Å—Ç—å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã:</label>
    <div class="checkbox-group">
      <label><input type="checkbox" value="WhatsApp" checked> WhatsApp</label>
      <label><input type="checkbox" value="Telegram"> Telegram</label>
      <label><input type="checkbox" value="Viber"> Viber</label>
    </div>
    <button class="btn" onclick="sendLead()">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–±–æ—Ä–∫—É</button>
    <div id="msg"></div>
  </div>
</div>

<script>
// –ù–∞—Å—Ç—Ä–æ–π–∫–∏
const TOKEN = '–í–ê–®_BOT_TOKEN';   // <- –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
const CHAT_ID = '–í–ê–®_CHAT_ID';   // <- –≤—Å—Ç–∞–≤—å—Ç–µ chat_id
const $ = s => document.querySelector(s);
let data = {};

// –ê–≤—Ç–æ—Ñ–æ–∫—É—Å Enter
window.addEventListener('DOMContentLoaded',()=>{
  const first = $('#car'); first.focus();
  first.addEventListener('keydown',e=>{
    if(e.key==='Enter'){ e.preventDefault(); next(1); }
  });
});

// –ü—Ä–æ–≥—Ä–µ—Å—Å
function updateProgress(step){ $('#progress').style.width = (step/3*100)+'%'; }

// –ü–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
function next(step){
  if(step===1) data.car = $('#car').value.trim();
  if(step===2) data.budget = $('input[name=budget]:checked').value;
  $(`#s${step}`).classList.remove('active');
  $(`#s${step+1}`).classList.add('active');
  if(step<3) updateProgress(step+1);
  const input = $(`#s${step+1} input`);
  if(input) input.focus();
}

// –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
async function sendLead(){
  const phone = $('#phone').value.trim();
  if(!phone) return flash('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞','error');
  const messengers = Array.from(document.querySelectorAll('.checkbox-group input:checked'))
    .map(i=>i.value).join(', ') || '–Ω–µ —É–∫–∞–∑–∞–Ω–æ';
  const text = `üöó –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ VezooAuto
–ê–≤—Ç–æ: ${data.car}
–ë—é–¥–∂–µ—Ç: ${data.budget}
–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}
–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã: ${messengers}`;
  try{
    const res = await fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({chat_id:CHAT_ID,text})
    });
    const json = await res.json();
    if(json.ok){ flash('–ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è.','ok'); }
    else{ flash('–û—à–∏–±–∫–∞ Telegram','error'); }
  }catch(e){ flash('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏','error'); }
}

// Flash —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
function flash(msg,type){
  const m = $('#msg'); m.textContent = msg; m.className = type;
}
</script>
</body>
</html>
